(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{7397:function(e,r,a){Promise.resolve().then(a.bind(a,5194))},5194:function(e,r,a){"use strict";a.r(r),a.d(r,{default:function(){return p}});var t=a(7437),l=a(2265);function s(e){let{car:r,setShowListingPageModal:a}=e;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none h-full w-full",children:(0,t.jsxs)("div",{className:"text-gray-200 body-font overflow-hidden bg-gray-900 w-11/12 border border-red-500",children:[(0,t.jsx)("button",{className:"top-0 left-0 ml-4 mt-4 text-gray-300 text-2xl bg-red-500 rounded-lg px-3 pb-1 hover:bg-red-600 focus:outline-none",onClick:()=>a(!1),children:"\xd7"}),(0,t.jsx)("div",{className:"container px-5 py-24 mx-auto",children:(0,t.jsxs)("div",{className:"lg:w-4/5 mx-auto flex flex-wrap",children:[(0,t.jsxs)("div",{className:"lg:w-1/2 w-full lg:pr-10 lg:py-6 mb-6 lg:mb-0",children:[(0,t.jsx)("h2",{className:"text-sm title-font text-gray-300 tracking-widest",children:r.year}),(0,t.jsxs)("h1",{className:"text-gray-200 text-3xl title-font font-medium mb-4",children:[r.make," ",r.model]}),(0,t.jsx)("div",{className:"flex mb-4",children:(0,t.jsx)("a",{className:"flex-grow text-indigo-500 border-b-2 border-indigo-500 py-2 text-lg px-1",children:"Description"})}),(0,t.jsx)("p",{className:"leading-relaxed mb-4 overflow-y-auto max-h-52",children:r.description?'"'.concat(r.description,'"'):"No description available."}),(0,t.jsxs)("div",{className:"flex border-t border-gray-200 py-2",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Mileage:"}),(0,t.jsxs)("span",{className:"ml-auto text-gray-200",children:[r.mileage.toLocaleString()," Miles"]})]}),(0,t.jsxs)("div",{className:"flex border-t border-gray-200 py-2",children:[(0,t.jsx)("span",{className:"text-gray-300",children:"Transmission:"}),(0,t.jsx)("span",{className:"ml-auto text-gray-200",children:r.transmission})]}),(0,t.jsx)("div",{className:"flex border-t mb-6 border-gray-200 py-2"}),(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsxs)("span",{className:"title-font font-medium text-2xl text-gray-200",children:["$",r.price.toLocaleString()]}),(0,t.jsx)("a",{href:r.url,target:"_blank",rel:"noreferrer",className:"flex ml-auto text-white bg-indigo-500 border-0 py-2 px-6 focus:outline-none hover:bg-indigo-600 rounded",children:(0,t.jsx)("button",{children:"Original Listing â†’"})}),(0,t.jsx)("button",{className:"rounded-full w-10 h-10 bg-gray-200 p-0 border-0 inline-flex items-center justify-center text-gray-300 ml-4",children:(0,t.jsx)("svg",{fill:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",className:"w-5 h-5",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M20.84 4.61a5.5 5.5 0 00-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 00-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 000-7.78z"})})})]})]}),(0,t.jsx)("div",{className:"lg:w-1/2 w-full max-h-[400px]",children:(0,t.jsx)("img",{alt:"".concat(r.make," ").concat(r.model),className:"w-full h-full object-cover object-center rounded",src:r.image})})]})})]})}),(0,t.jsx)("div",{className:"opacity-70  fixed inset-0 z-40 bg-black"})]})}function o(e){let{car:r}=e,[a,o]=(0,l.useState)(!1);return console.log(r.year,a),(0,t.jsxs)(t.Fragment,{children:[a&&(0,t.jsx)(s,{car:r,setShowListingPageModal:o}),(0,t.jsxs)("div",{onClick:()=>{o(!0)},className:"m-3 my-5 w-full md:w-[18%] cursor-pointer bg-gray-900 p-5 rounded-md",children:[(0,t.jsx)("div",{className:"block relative h-48 rounded overflow-hidden",children:(0,t.jsx)("img",{alt:"".concat(r.make," ").concat(r.model),className:"object-cover object-center w-full h-full block",src:r.image})}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("h3",{className:"text-gray-500 text-xs tracking-widest title-font mb-1",children:r.year}),(0,t.jsxs)("h2",{className:"text-white title-font text-lg font-medium",children:[r.make," ",r.model]}),(0,t.jsxs)("p",{className:"mt-1",children:["$",r.price.toLocaleString()," | ",r.mileage.toLocaleString()," Miles"]})]})]})]})}function n(e){let{carGrid:r}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("section",{className:"text-gray-400 bg-gray-950 body-font ",children:(0,t.jsx)("div",{className:"container mx-auto",children:(0,t.jsx)("div",{className:"flex flex-wrap w-full",children:Array.isArray(r)?r.map(e=>(0,t.jsx)(o,{car:e},e._id)):(0,t.jsx)("p",{children:"Loading Cars..."})})})})})}var d=a(5918),i=a(994),c=a(9584);let u={apiKey:"AIzaSyDJ1hOCj8mrw5meGQFZOZeV46G_8WxVusI",authDomain:"car-marketplace-web-lmkw.firebaseapp.com",projectId:"car-marketplace-web-lmkw",storageBucket:"car-marketplace-web-lmkw.appspot.com",messagingSenderId:"1042669946372",appId:"1:1042669946372:web:6eacf15519a61ec8fcd751"};function g(e){let{setShowListingModal:r,setCarGrid:a,makeList:s}=e,{user:o}=(0,l.useContext)(d.AuthContext),[n,g]=(0,l.useState)([]),[b,m]=(0,l.useState)(""),[x,h]=(0,l.useState)(""),[p,f]=(0,l.useState)(""),[y,k]=(0,l.useState)(""),[j,v]=(0,l.useState)(""),[w,N]=(0,l.useState)(""),[C,S]=(0,l.useState)(""),[L,M]=(0,l.useState)(""),[A,F]=(0,l.useState)(""),[z,I]=(0,l.useState)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,t.jsx)("div",{className:"relative sm:w-1/2 my-6 mx-auto max-w-3xl",children:(0,t.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-gray-900 outline-none focus:outline-none",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-slate-200 rounded-t",children:[(0,t.jsx)("h3",{className:"text-3xl text-gray-100 font-semibold",children:"New Listing"}),(0,t.jsx)("button",{onClick:()=>r(!1),className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",children:(0,t.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),(0,t.jsx)("div",{className:"relative p-6 flex-auto text-gray-900",children:(0,t.jsxs)("form",{children:[(0,t.jsx)("div",{className:"p-2",children:s.length>0?(0,t.jsxs)("select",{value:b,onChange:function(e){let r=e.target.value;m(r),fetch("https://car-marketplace-api.web.app/getmodels/".concat(r)).then(e=>e.json()).then(e=>{g(e),console.log("makeList:",e)}).catch(alert)},name:"make",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",selected:!0,disabled:!0,className:"opacity-50",children:"Make"}),s.map(e=>(0,t.jsx)("option",{value:e,children:e},e.index))]}):(0,t.jsx)("p",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",children:"Loading Makes..."})}),(0,t.jsxs)("div",{className:"p-2",children:[" ",n.length>0?(0,t.jsxs)("select",{value:x,onChange:function(e){let r=e.target.value;h(r)},name:"model",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Model"}),n.map(e=>(0,t.jsx)("option",{value:e,children:e},e.index))]}):(0,t.jsx)("p",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",children:"Model: Select a make first."})]}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsxs)("select",{name:"transmission",value:p,onChange:function(e){let r=e.target.value;f(r)},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",selected:!0,disabled:!0,children:"Transmission"}),(0,t.jsx)("option",{value:"Manual",children:"Manual"}),(0,t.jsx)("option",{value:"Automatic",children:"Automatic"})]})}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)("input",{onChange:e=>k(e.target.value),value:y,placeholder:"Year",name:"year",type:"number",maxLength:4,minLength:4,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"})}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)("input",{onChange:e=>v(e.target.value),value:j,placeholder:"Price",name:"price",type:"number",maxLength:4,minLength:4,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"})}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)("input",{onChange:e=>N(e.target.value),value:w,placeholder:"Mileage",name:"mileage",type:"number",maxLength:4,minLength:4,className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"})}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)("textarea",{onChange:e=>M(e.target.value),value:L,name:"description",placeholder:"Description",className:"resize-none h-[100px] bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"})}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)("input",{onChange:e=>S(e.target.value),value:C,placeholder:"Listing URL",name:"url",type:"string",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"})}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)("input",{onChange:e=>{console.log(e.target.files[0]),I(e.target.files[0]);let r=(0,i.ZF)(u),a=(0,c.cF)(r),t=e.target.files[0].name,l=(0,c.iH)(a,"listings/".concat(t)),s="https://firebasestorage.googleapis.com/v0/b/car-marketplace-web-lmkw.appspot.com/o/listings%2F".concat(t,"?alt=media");(0,c.KV)(l,e.target.files[0]).then(()=>F(s)).catch(alert)},type:"file",accept:"image/*",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]})}),(0,t.jsxs)("div",{className:"flex items-center justify-end p-6 border-t border-solid border-slate-200 rounded-b",children:[(0,t.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>r(!1),children:"Close"}),(0,t.jsx)("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",onClick:function(e){e.preventDefault();let t=C.split("?")[0],l=parseInt(y,10),s=parseFloat(j),n=parseInt(w,10);if(!b||!x||!p||!l||!s||!n||!t||!A){alert("Please fill in all fields.");return}let d={uid:o.uid,make:b,model:x,transmission:p,year:l,price:s,mileage:n,description:L,url:t,image:A};fetch("https://car-marketplace-api.web.app/listings/newlisting",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(d)}).then(e=>e.json()).then(e=>{a(e),r(!1)}).catch(alert)},children:"Submit"})]})]})})}),(0,t.jsx)("div",{className:"opacity-70  fixed inset-0 z-40 bg-black"})]})}var b=a(3085);function m(e){let{setShowLoginModal:r}=e,{handleLogin:a}=(0,l.useContext)(d.AuthContext),[s,o]=(0,l.useState)({}),n=e=>{o({...s,[e.target.name]:e.target.value})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"justify-center items-center flex overflow-x-hidden overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none",children:(0,t.jsx)("div",{className:"relative sm:w-1/2 my-6 mx-auto max-w-3xl",children:(0,t.jsxs)("div",{className:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-gray-900 outline-none focus:outline-none",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between p-5 border-b border-solid border-slate-200 rounded-t",children:[(0,t.jsx)("h3",{className:"text-3xl text-gray-100 font-semibold",children:"Login"}),(0,t.jsx)("button",{onClick:()=>r(!1),className:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",children:(0,t.jsx)("span",{className:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none",children:"\xd7"})})]}),(0,t.jsx)("div",{className:"relative p-6 flex-auto text-gray-900",children:(0,t.jsxs)("form",{children:[(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)("input",{onChange:n,placeholder:"Email",name:"email",type:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"})}),(0,t.jsx)("div",{className:"p-2",children:(0,t.jsx)("input",{onChange:n,placeholder:"Password",name:"password",type:"password",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500"})})]})}),(0,t.jsxs)("div",{className:"flex justify-end p-6 border-t border-solid border-slate-200 rounded-b",children:[(0,t.jsx)("button",{className:"text-red-500 background-transparent font-bold uppercase px-6 py-2 text-sm outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:()=>r(!1),children:"Close"}),(0,t.jsx)("button",{className:"bg-purple-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",onClick:()=>{let e=new b.hJ;(0,b.rh)(d.auth,e).then(e=>{a(e),r(!1)}).catch(e=>alert(e.message))},children:"Login with Google"}),(0,t.jsx)("button",{className:"bg-emerald-500 text-white active:bg-emerald-600 font-bold uppercase text-sm px-6 py-3 rounded shadow hover:shadow-lg outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"submit",onClick:e=>{e.preventDefault();let{email:t,password:l}=s;(0,b.e5)(d.auth,t,l).then(e=>{a(e),r(!1)}).catch(e=>alert(e.message))},children:"Login with Email"})]})]})})}),(0,t.jsx)("div",{className:"opacity-70  fixed inset-0 z-40 bg-black"})]})}function x(e){let{makeList:r,queryString:a,setQueryString:s}=e,[o,n]=(0,l.useState)([]),[d,i]=(0,l.useState)(""),[c,u]=(0,l.useState)(""),[g,b]=(0,l.useState)("");return(0,t.jsxs)("div",{className:"flex gap-8 pb-5 justify-center",children:[(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"z-50 group-open:absolute group-open:start-0 group-open:top-auto group-open:mt-2",children:(0,t.jsx)("div",{className:"w-96 rounded border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900",children:r.length>0?(0,t.jsxs)("select",{value:d,onChange:function(e){let r=e.target.value;i(r),fetch("https://car-marketplace-api.web.app/getmodels/".concat(r)).then(e=>e.json()).then(e=>{n(e)}).catch(alert),console.log(r)},name:"make",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",selected:!0,disabled:!0,className:"opacity-50",children:"Make"}),r.map(e=>(0,t.jsx)("option",{value:e,children:e},e.index))]}):(0,t.jsx)("p",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",children:"Loading Makes..."})})})}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"z-50 group-open:absolute group-open:start-0 group-open:top-auto group-open:mt-2",children:(0,t.jsx)("div",{className:"w-96 rounded border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900 dark:focus:ring-offset-gray-900",children:o.length>0?(0,t.jsxs)("select",{value:c,onChange:function(e){let r=e.target.value;u(r),console.log(r)},name:"model",className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",selected:!0,children:"Model"}),o.map(e=>(0,t.jsx)("option",{value:e,children:e},e.index))]}):(0,t.jsx)("p",{className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",children:"Model: Select a make first."})})})}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("div",{className:"z-50 group-open:absolute group-open:start-0 group-open:top-auto group-open:mt-2",children:(0,t.jsx)("div",{className:"w-96 rounded border border-gray-200 bg-white dark:border-gray-700 dark:bg-gray-900 dark:focus:ring-offset-gray-900",children:(0,t.jsxs)("select",{name:"transmission",value:g,onChange:function(e){let r=e.target.value;b(r),console.log(r)},className:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-100 dark:placeholder-gray-400 dark:focus:ring-blue-500 dark:focus:border-blue-500",children:[(0,t.jsx)("option",{value:"",selected:!0,children:"Transmission: Any"}),(0,t.jsx)("option",{value:"Manual",children:"Manual"}),(0,t.jsx)("option",{value:"Automatic",children:"Automatic"})]})})})}),(0,t.jsx)("button",{onClick:function(){a="",d&&s(a+="make=".concat(d,"&")),c&&s(a+="model=".concat(c,"&")),g&&s(a+="transmission=".concat(g,"&"))},className:"hover:text-blue-500",children:"Search"}),(0,t.jsx)("button",{onClick:function(){s("")},className:"hover:text-blue-500",children:"Reset"})]})}function h(e){let{setCarGrid:r,makeList:a,queryString:s,setQueryString:o}=e,[n,i]=(0,l.useState)(!1),[c,u]=(0,l.useState)(!1),[b,h]=(0,l.useState)(!1),{user:p,handleLogout:f}=(0,l.useContext)(d.AuthContext);return(0,t.jsxs)("nav",{className:"bg-white border-gray-200 dark:bg-gray-900",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center justify-between mx-20 mt-0 mb-0 p-5",children:[(0,t.jsxs)("a",{href:"/",className:"flex items-center",children:[(0,t.jsx)("img",{src:"../images/logo.png",className:"h-16 mr-3",alt:"Collector's Car Hub Logo"}),(0,t.jsx)("span",{className:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white",children:"Collector's Car Hub"})]}),(0,t.jsxs)("div",{className:"flex md:order-2 mt-4 md:mt-0",children:[(0,t.jsx)("div",{className:"mr-4",children:(0,t.jsx)("button",{type:"button",onClick:()=>{p?i(!0):alert("You must be logged in to add a listing.")},className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 text-center mr-3 md:mr-0 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:"Add New Listing"})}),n?(0,t.jsx)(g,{setShowListingModal:i,setCarGrid:r,makeList:a}):null,p?(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:()=>f(),className:"text-white bg-amber-700 hover:bg-amber-800 focus:ring-4 focus:outline-none focus:ring-amber-300 font-medium rounded-lg text-sm px-4 py-2 text-center mr-3 md:mr-0 dark:bg-amber-600 dark:hover:bg-amber-700 dark:focus:ring-amber-800",children:"Log out"})}):(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:()=>u(!0),className:"text-white bg-amber-700 hover:bg-amber-800 focus:ring-4 focus:outline-none focus:ring-amber-300 font-medium rounded-lg text-sm px-4 py-2 text-center mr-3 md:mr-0 dark:bg-amber-600 dark:hover:bg-amber-700 dark:focus:ring-amber-800",children:"Log in"})}),c?(0,t.jsx)(m,{setShowLoginModal:u}):null,(0,t.jsxs)("button",{"data-collapse-toggle":"navbar-cta",type:"button",className:"inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","aria-controls":"navbar-cta","aria-expanded":"false",children:[(0,t.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,t.jsx)("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 17 14",children:(0,t.jsx)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 1h15M1 7h15M1 13h15"})})]})]}),(0,t.jsx)("div",{className:"items-center justify-between hidden w-full md:flex md:w-auto md:order-1",id:"navbar-cta",children:(0,t.jsxs)("ul",{className:"flex flex-col font-medium p-4 md:p-0 mt-0 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700",children:[(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"/cars",className:"block py-2 pl-3 pr-4 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500","aria-current":"page",children:"Cars"})}),(0,t.jsx)("li",{children:(0,t.jsx)("a",{onClick:()=>{b?h(!1):h(!0)},className:"block py-2 pl-3 pr-4 text-gray-900 rounded hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 md:dark:hover:text-blue-500 dark:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700",children:"Search"})})]})})]}),b?(0,t.jsx)(x,{setCarGrid:r,makeList:a,queryString:s,setQueryString:o}):null]})}function p(){let[e,r]=(0,l.useState)([]),[a,s]=(0,l.useState)(null),[o,d]=(0,l.useState)(!0),[i,c]=(0,l.useState)([]),[u,g]=(0,l.useState)("");return(0,l.useEffect)(()=>{fetch("https://car-marketplace-api.web.app/getmakes/").then(e=>e.json()).then(e=>{c(e),console.log("makeList:",e)}).catch(alert)},[]),(0,l.useEffect)(()=>{console.log(u),fetch("https://car-marketplace-api.web.app/listings?".concat(u)).then(e=>e.json()).then(e=>{r(e)}).catch(e=>{console.error("Failed to fetch:",e),s("Failed to get listings. Please try again.")})},[u]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h,{setCarGrid:r,makeList:i,queryString:u,setQueryString:g}),(0,t.jsx)("main",{className:" min-h-screen flex-col items-center justify-between bg-gray-950",children:(0,t.jsx)(n,{carGrid:e})})]})}},5918:function(e,r,a){"use strict";a.r(r),a.d(r,{AuthContext:function(){return i},AuthProvider:function(){return c},auth:function(){return d}});var t=a(7437),l=a(2265),s=a(3085),o=a(994);let n=(0,o.ZF)({apiKey:"AIzaSyDJ1hOCj8mrw5meGQFZOZeV46G_8WxVusI",authDomain:"car-marketplace-web-lmkw.firebaseapp.com",projectId:"car-marketplace-web-lmkw",storageBucket:"car-marketplace-web-lmkw.appspot.com",messagingSenderId:"1042669946372",appId:"1:1042669946372:web:6eacf15519a61ec8fcd751"}),d=(0,s.v0)(n),i=(0,l.createContext)();function c(e){let{children:r}=e,[a,o]=(0,l.useState)();return(0,l.useEffect)(()=>{(0,s.Aj)(d,e=>{o(e)})},[]),(0,t.jsx)(i.Provider,{value:{user:a,handleLogin:e=>{o(e.user)},handleLogout:()=>{d.signOut().then(()=>{o(null)}).catch(e=>{console.error("Error signing out:",e)})}},children:r})}}},function(e){e.O(0,[413,923,584,971,596,744],function(){return e(e.s=7397)}),_N_E=e.O()}]);